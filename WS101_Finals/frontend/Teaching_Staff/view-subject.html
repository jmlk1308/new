<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Subjects - Professor Dashboard</title>
    <link rel="stylesheet" href="css/professor-dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<div class="dashboard-container">
    <nav class="sidebar">
        <div class="sidebar-header">
            <div class="logo-text">CS Learning Hub</div>
        </div>

        <div class="profile-section" onclick="openProfileModal()" style="cursor: pointer;">
            <div class="profile-img-container">
                <img id="sidebar-profile-img" src="" alt="Profile" style="display: none;">
                <div id="sidebar-profile-placeholder" class="profile-placeholder">
                    <i class="fa-solid fa-user"></i>
                </div>
            </div>
            <div class="profile-info">
                <h3 id="sidebar-profile-name">Prof. Loading...</h3>
                <span class="role-badge">Professor</span>
            </div>
        </div>

        <ul class="nav-links">
            <li><a href="professor-dashboard.html"><i class="fa-solid fa-house"></i> Dashboard</a></li>
            <li class="active"><a href="view-subject.html"><i class="fa-solid fa-book"></i> View Subjects</a></li>
            <li><a href="create-quiz.html"><i class="fa-solid fa-circle-plus"></i> Create Quiz</a></li>
            <li><a href="quizzes.html"><i class="fa-solid fa-list-check"></i> Manage Quizzes</a></li>
            <li><a href="upload-lesson.html"><i class="fa-solid fa-upload"></i> Upload Lesson</a></li>
            <li><a href="view-lesson.html"><i class="fa-solid fa-file-pdf"></i> View Lessons</a></li>

            <li style="margin-top: auto;">
                <a href="#" onclick="logout()"><i class="fa-solid fa-right-from-bracket"></i> Logout</a>
            </li>
        </ul>
    </nav>

    <main class="main-content">
        <header class="top-bar">
            <h1 class="page-title">View Subjects</h1>
        </header>

        <div class="content-wrapper">
            <div class="card" style="overflow-x: auto;">

                <table class="table-container" id="subjectTable">
                    <thead>
                    <tr>
                        <th>Code</th>
                        <th>Description</th>
                        <th>Year</th>
                        <th>Modules</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td colspan="5" style="text-align:center; padding: 20px;">Loading subjects...</td>
                    </tr>
                    </tbody>
                </table>

            </div>
        </div>
    </main>
</div>

<div id="moduleModal" class="modal-overlay" style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); align-items: center; justify-content: center; z-index: 1000;">
    <div class="modal-content" style="background: white; padding: 25px; border-radius: 12px; width: 500px; max-width: 90%; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h2 style="margin: 0; font-size: 1.25rem; color: #1f2937;">Manage Modules</h2>
            <button onclick="document.getElementById('moduleModal').style.display='none'" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #6b7280;">&times;</button>
        </div>

        <h4 id="modalSubjectTitle" style="color: #6b7280; margin-bottom: 15px; font-weight: 600;">Subject: Loading...</h4>

        <div style="max-height: 300px; overflow-y: auto; border: 1px solid #e5e7eb; border-radius: 8px; padding: 0;">
            <table style="width:100%; text-align: left; border-collapse: collapse;">
                <thead style="background: #f9fafb; position: sticky; top: 0;">
                <tr>
                    <th style="padding: 10px; border-bottom: 1px solid #e5e7eb; font-size: 0.9rem; color: #374151;">No.</th>
                    <th style="padding: 10px; border-bottom: 1px solid #e5e7eb; font-size: 0.9rem; color: #374151;">Title</th>
                    <th style="padding: 10px; border-bottom: 1px solid #e5e7eb; font-size: 0.9rem; color: #374151;">Action</th>
                </tr>
                </thead>
                <tbody id="moduleListBody">
                </tbody>
            </table>
        </div>

        <div style="text-align: right; margin-top: 20px;">
            <button type="button" onclick="document.getElementById('moduleModal').style.display='none'"
                    style="padding: 8px 20px; cursor: pointer; background: #e5e7eb; color: #374151; border: none; border-radius: 6px; font-weight: 600;">
                Close
            </button>
        </div>
    </div>
</div>

<div id="profileModal" class="modal-overlay" style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); align-items: center; justify-content: center; z-index: 1000;">
    <div class="modal-content" style="background: white; padding: 2rem; border-radius: 12px; width: 400px; max-width: 90%;">
        <h2 style="margin-bottom: 1rem; color: #1f2937;">Edit Profile</h2>
        <div style="margin-bottom: 15px;">
            <label style="display: block; font-weight: 600; color: #4b5563; margin-bottom: 5px;">Username</label>
            <input type="text" id="profile-username" style="width: 100%; padding: 10px; border: 1px solid #e5e7eb; border-radius: 6px;">
        </div>
        <div style="display: flex; gap: 10px; justify-content: flex-end;">
            <button type="button" onclick="document.getElementById('profileModal').style.display='none'" style="padding: 8px 16px; border: 1px solid #ccc; background: white; border-radius: 6px; cursor: pointer;">Cancel</button>
            <button type="button" onclick="alert('Profile saving is handled in dashboard')" style="padding: 8px 16px; background: #2563eb; color: white; border: none; border-radius: 6px; cursor: pointer;">Save</button>
        </div>
    </div>
</div>

<script src="js/main.js"></script>
<script src="js/professor.js"></script>

</body>
</html>